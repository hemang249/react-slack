{"version":3,"sources":["serviceWorker.js","components/messages/MessagesHeader.js","firebase.js","config.js","components/messages/FileModal.js","components/messages/MessageForm.js","components/messages/Message.js","components/messages/Messages.js","components/color-panel/ColorPanel.js","components/side-panel/UserPanel.js","actions/index.js","actions/types.js","components/side-panel/Channels.js","components/side-panel/DirectMessages.js","components/side-panel/SidePanel.js","components/meta-panel/MetaPanel.js","components/App.js","components/auth/Login.js","components/auth/Register.js","reducers/index.js","Spinner.js","components/Routes.js","index.js"],"names":["Boolean","window","location","hostname","match","MessagesHeader","state","currentChannel","searchText","handleChange","event","setState","target","name","value","nextProps","this","Fragment","Segment","clearing","Header","fluid","as","floated","style","marginBottom","toUpperCase","Icon","color","Input","size","icon","placeholder","onChange","Button","onClick","props","searchMessages","Component","connect","channel","firebaseConfig","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","initializeApp","FileModal","file","permittedTypes","user","percentUploaded","storageRef","storage","ref","messgesRef","database","uploadState","uploadTask","addFile","files","sendFile","isPermitted","metaData","contentType","mime","lookup","uploadFile","clearFile","pathToUpload","id","filePath","uuidv4","child","put","on","snap","Math","round","bytesTransferred","totalBytes","err","console","log","closeModal","snapshot","getDownloadURL","then","url","sendFileMessage","fileName","includes","Modal","basic","open","modal","close","Content","label","type","Actions","inverted","currentUser","MessageForm","isPrivateChannel","message","loading","errors","messagesRef","openModal","sendMessage","length","push","set","createMessage","catch","concat","timestamp","ServerValue","TIMESTAMP","uid","displayName","photoURL","content","className","labelPosition","some","Group","icons","widths","disabled","time","useState","Comment","Avatar","src","Author","Metadata","moment","fromNow","hasOwnProperty","Image","image","Text","Messages","messages","messagesLoading","uniqueUsers","searching","privateMessagesRef","addListeners","channelId","addMessageListener","loadedMessages","getMessagesRef","val","map","m","displaySearchMessages","key","displayMessages","off","React","UserPanel","handleSignout","auth","signOut","dropdownOptions","text","Grid","background","Column","Row","paddingTop","margin","textAlign","float","padding","Dropdown","trigger","paddingLeft","spaced","width","height","borderRadius","options","setCurrentChannel","payload","setPrivateChannel","Channels","channels","showModal","channelName","firstLoad","channelDetails","activeChannel","channelsRef","loadedChannels","setFirstChannel","handleSubmit","preventDefault","isFormValid","addChannel","newChannel","details","createdBy","update","changeChannel","setActiveChannel","displayChannels","Menu","Item","opacity","active","removeListeners","onClose","Form","DirectMessages","users","usersRef","connectedRef","presenceRef","loadedUsers","addStatusToUser","connected","updatedUsers","reduce","acc","channelData","getChannelId","currentUserId","u","status","SidePanel","fixed","vertical","fontSize","MetaPanel","activeIndex","setActiveIndex","titleProps","index","newIndex","formatCount","num","displayTopPosters","posts","Object","entries","sort","a","b","i","List","avatar","Description","count","slice","userPosts","attached","Accordion","styled","Title","circular","columns","marginLeft","Login","email","password","signInWithEmailAndPassword","signedInUser","saveUser","createdUser","showErrors","verticalAlign","maxWidth","onSubmit","stacked","iconPosition","to","Register","username","passwordConfirmation","createUserWithEmailAndPassword","updateProfile","md5","isFormEmpty","isPasswordValid","initialUserState","isLoading","initialChannelState","rootReducer","combineReducers","action","Spinner","Dimmer","Loader","store","createStore","composeWithDevTools","Root","onAuthStateChanged","setUser","history","clearUser","path","exact","component","App","RoutesWithAuth","withRouter","Routes","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.eb1cd3b3.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, { Component } from \"react\";\nimport { Header, Button, Segment, Icon, Input } from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\n\nclass MessagesHeader extends Component {\n  state = {\n    currentChannel: \"\",\n    searchText: \"\",\n  };\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ ...this.state, currentChannel: nextProps.currentChannel });\n  }\n\n  handleChange = (event) => {\n    this.setState({ ...this.state, [event.target.name]: event.target.value });\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <Segment clearing>\n          <Header\n            fluid=\"true\"\n            as=\"h2\"\n            floated=\"left\"\n            style={{ marginBottom: 0 }}\n          >\n            <span>\n              {this.state.currentChannel &&\n                this.state.currentChannel.name.toUpperCase()}\n              <Icon name=\"star outline\" color=\"black\" />\n            </span>\n          </Header>\n          <Header floated=\"right\">\n            <Input\n              size=\"mini\"\n              icon=\"search\"\n              name=\"searchText\"\n              placeholder=\"search messages\"\n              onChange={this.handleChange}\n            ></Input>\n            <br />\n            <Button\n              color=\"green\"\n              onClick={() => {\n                this.props.searchMessages(this.state.searchText);\n              }}\n            >\n              {\" \"}\n              Search{\" \"}\n            </Button>\n          </Header>\n        </Segment>\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  currentChannel: state.channel.currentChannel,\n});\n\nexport default connect(mapStateToProps, {})(MessagesHeader);\n","import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\nimport \"firebase/storage\";\nimport {\n  FIREBASE_APP_ID,\n  FIREBASE_AUTH_DOMAIN,\n  FIREBASE_DATABASE_URL,\n  FIREBASE_KEY,\n  FIREBASE_STORAGE_URL,\n} from \"./config\";\n\nvar firebaseConfig = {\n  apiKey: FIREBASE_KEY,\n  authDomain: FIREBASE_AUTH_DOMAIN,\n  databaseURL: FIREBASE_DATABASE_URL,\n  projectId: \"react-slack-clone-7b265\",\n  storageBucket: FIREBASE_STORAGE_URL,\n  messagingSenderId: \"289515100388\",\n  appId: FIREBASE_APP_ID,\n  measurementId: \"G-5EFCYX52T1\",\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nexport default firebase;\n","export const FIREBASE_APP_ID = process.env.REACT_APP_FIREBASE_APP_ID;\nexport const FIREBASE_DATABASE_URL =\n  process.env.REACT_APP_FIREBASE_DATABASE_URL;\nexport const FIREBASE_KEY = process.env.REACT_APP_FIREBASE_KEY;\nexport const FIREBASE_STORAGE_URL = process.env.REACT_APP_FIREBASE_STORAGE_URL;\nexport const FIREBASE_AUTH_DOMAIN = process.env.REACT_APP_FIREBASE_AUTH_DOMAIN;\n","import React, { Component } from \"react\";\nimport { Modal, Input, Button, Icon } from \"semantic-ui-react\";\nimport mime from \"mime-types\";\nimport { connect } from \"react-redux\";\nimport firebase from \"../../firebase\";\nimport uuidv4 from \"uuid/v4\";\n\nclass FileModal extends Component {\n  state = {\n    file: null,\n    permittedTypes: [\"image/jpeg\", \"image/png\", \"image/jpg\"],\n    user: null,\n    percentUploaded: 0,\n    currentChannel: null,\n    storageRef: firebase.storage().ref(),\n    messgesRef: firebase.database().ref(\"messages\"),\n    uploadState: \"\",\n    uploadTask: \"\",\n  };\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      ...this.state,\n      user: nextProps.user,\n      currentChannel: nextProps.currentChannel,\n    });\n  }\n\n  addFile = (event) => {\n    const file = event.target.files[0];\n    if (file) {\n      this.setState({ ...this.state, file: file });\n    }\n  };\n\n  sendFile = () => {\n    const { file } = this.state;\n    if (file) {\n      if (this.isPermitted(file.name)) {\n        const metaData = { contentType: mime.lookup(file.name) };\n        this.uploadFile(file, metaData);\n      }\n    }\n  };\n\n  clearFile = () => {\n    this.setState({ ...this.state, file: null });\n  };\n\n  uploadFile = (file, metaData) => {\n    const pathToUpload = this.state.currentChannel.id;\n    const ref = this.state.messgesRef;\n    const filePath = `chat/public${uuidv4()}.jpg`;\n\n    this.setState(\n      {\n        ...this.state,\n        uploadState: \"uploading\",\n        uploadTask: this.state.storageRef.child(filePath).put(file, metaData),\n      },\n      () => {\n        this.state.uploadTask.on(\n          \"state_changed\",\n          (snap) => {\n            const percentUploaded = Math.round(\n              (snap.bytesTransferred / snap.totalBytes) * 100\n            );\n            this.setState({ percentUploaded });\n          },\n          (err) => console.log(err),\n          () => {\n            this.props.closeModal();\n            this.state.uploadTask.snapshot.ref\n              .getDownloadURL()\n              .then((url) =>\n                this.props.sendFileMessage(url, ref, pathToUpload)\n              );\n          }\n        );\n      }\n    );\n  };\n\n  isPermitted = (fileName) =>\n    this.state.permittedTypes.includes(mime.lookup(fileName));\n\n  render() {\n    return (\n      <Modal basic open={this.props.modal} close={this.props.closeModal}>\n        <Modal.Header>Select File</Modal.Header>\n        <Modal.Content>\n          <Input\n            onChange={this.addFile}\n            fluid\n            label=\"file types : jpg / png\"\n            name=\"file\"\n            type=\"file\"\n          />\n        </Modal.Content>\n        <Modal.Actions>\n          <Button color=\"green\" onClick={this.sendFile} inverted>\n            {\" \"}\n            <Icon name=\"checkmark\" />\n            Upload\n          </Button>\n          <Button color=\"red\" onClick={this.props.closeModal} inverted>\n            {\" \"}\n            <Icon name=\"remove\" /> Cancel\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  currentChannel: state.channel.currentChannel,\n  user: state.user.currentUser,\n});\n\nexport default connect(mapStateToProps, {})(FileModal);\n","import React, { Component } from \"react\";\nimport { Segment, Input, Button } from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\nimport firebase from \"../../firebase\";\nimport FileModal from \"./FileModal\";\n\nclass MessageForm extends Component {\n  state = {\n    user: this.props.currentUser,\n    isPrivateChannel: this.props.isPrivateChannel,\n    message: \"\",\n    loading: false,\n    currentChannel: this.props.currentChannel,\n    errors: [],\n    messagesRef: this.props.messagesRef,\n    modal: false,\n  };\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      ...this.state,\n      currentChannel: nextProps.currentChannel,\n      user: this.props.currentUser,\n      isPrivateChannel: this.props.isPrivateChannel,\n    });\n  }\n\n  handleChange = (event) => {\n    this.setState({ ...this.state, [event.target.name]: event.target.value });\n  };\n\n  openModal = () => this.setState({ ...this.state, modal: true });\n  closeModal = () => this.setState({ ...this.state, modal: false });\n\n  sendMessage = () => {\n    const { messagesRef, message, currentChannel } = this.state;\n\n    if (message.length > 0) {\n      this.setState({ ...this.state, loading: true });\n      messagesRef\n        .child(currentChannel.id)\n        .push()\n        .set(this.createMessage())\n        .then(() => {\n          console.log(\"sent\");\n          this.setState({\n            ...this.state,\n            message: \"\",\n            loading: false,\n            errors: [],\n          });\n        })\n        .catch((err) => {\n          console.log(err);\n          this.setState({\n            ...this.state,\n            loading: false,\n            errors: this.state.errors.concat(err),\n          });\n        });\n    }\n  };\n\n  createMessage = (url) => {\n    const message = {\n      timestamp: firebase.database.ServerValue.TIMESTAMP,\n      user: {\n        id: this.state.user.uid,\n        displayName: this.state.user.displayName,\n        photoURL: this.state.user.photoURL,\n      },\n    };\n\n    if (url) {\n      message[\"image\"] = url;\n    } else {\n      message.content = this.state.message;\n    }\n    return message;\n  };\n\n  sendFileMessage = (url, ref, pathToUpload) => {\n    ref\n      .child(pathToUpload)\n      .push()\n      .set(this.createMessage(url))\n      .then(() => console.log(\"upload done\"))\n      .catch((err) => console.log(err));\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <Segment className=\"message__form\">\n          <Input\n            fluid\n            name=\"message\"\n            onChange={this.handleChange}\n            value={this.state.message}\n            style={{ marginBottom: \"0.7em\" }}\n            label={<Button icon=\"add\"></Button>}\n            labelPosition=\"left\"\n            className={\n              this.state.errors.some((err) => err.includes(\"message\"))\n                ? \"error\"\n                : \"\"\n            }\n          />\n          <Button.Group icons widths=\"2\">\n            <Button\n              disabled={this.state.loading}\n              onClick={this.sendMessage}\n              color=\"orange\"\n              icon=\"edit\"\n              content=\"reply\"\n              labelPosition=\"left\"\n            />\n            <Button\n              onClick={this.openModal}\n              color=\"green\"\n              content=\"upload media\"\n              icon=\"cloud upload\"\n              labelPosition=\"right\"\n            />\n\n            <FileModal\n              modal={this.state.modal}\n              sendFileMessage={this.sendFileMessage}\n              closeModal={this.closeModal}\n            />\n          </Button.Group>\n        </Segment>\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  currentChannel: state.channel.currentChannel,\n  currentUser: state.user.currentUser,\n  isPrivateChannel: state.channel.isPrivateChannel,\n});\n\nexport default connect(mapStateToProps, {})(MessageForm);\n","import React, { useState } from \"react\";\nimport { Comment, Image } from \"semantic-ui-react\";\nimport moment from \"moment\";\nimport { connect } from \"react-redux\";\n\nfunction Message(props) {\n  const [user, setUser] = useState(props.currentUser);\n\n  const timeFromNow = (time) => moment(time).fromNow();\n\n  const isImage = (message) => {\n    return (\n      message.hasOwnProperty(\"image\") && !message.hasOwnProperty(\"content\")\n    );\n  };\n\n  return (\n    <Comment>\n      <Comment.Avatar src={props.message.user.photoURL} />\n      <Comment.Content>\n        <Comment.Author as=\"a\">{props.message.user.displayName}</Comment.Author>\n        <Comment.Metadata>\n          {timeFromNow(props.message.timestamp)}\n        </Comment.Metadata>\n\n        {isImage(props.message) ? (\n          <Image src={props.message.image} />\n        ) : (\n          <Comment.Text>{props.message.content}</Comment.Text>\n        )}\n      </Comment.Content>\n    </Comment>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return { currentUser: state.user.currentUser };\n};\n\nexport default connect()(Message);\n","import React from \"react\";\nimport { Segment, Comment } from \"semantic-ui-react\";\nimport MessagesHeader from \"./MessagesHeader\";\nimport MessageForm from \"./MessageForm\";\nimport firebase from \"../../firebase\";\nimport { connect } from \"react-redux\";\nimport Message from \"./Message\";\n\nclass Messages extends React.Component {\n  state = {\n    messagesRef: firebase.database().ref(\"messages\"),\n    currentChannel: null,\n    messages: [],\n    messagesLoading: true,\n    user: null,\n    isPrivateChannel: this.props.isPrivateChannel,\n    uniqueUsers: 0,\n    searching: false,\n    privateMessagesRef: firebase.database().ref(\"privateMessages\"),\n    searchMessages: [],\n  };\n\n  componentWillUnmount() {\n    this.state.messagesRef.off();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState(\n      {\n        ...this.state,\n        user: nextProps.user,\n        currentChannel: nextProps.currentChannel,\n      },\n      () => {\n        const { currentChannel, user } = this.state;\n        if (currentChannel && user) {\n          this.addListeners(currentChannel.id);\n        }\n      }\n    );\n  }\n\n  addListeners = (channelId) => {\n    this.addMessageListener(channelId);\n  };\n\n  addMessageListener = (channelId) => {\n    let loadedMessages = [];\n    const ref = this.getMessagesRef();\n    ref.child(channelId).on(\"child_added\", (snap) => {\n      loadedMessages.push(snap.val());\n      this.setState({\n        ...this.state,\n        messages: loadedMessages,\n        messagesLoading: false,\n      });\n    });\n  };\n\n  searchMessages = (searchText) => {\n    const searchMessages = [];\n    if (searchText != \"\") {\n      this.state.messages.map((m) => {\n        if (m.content) {\n          if (m.content.includes(searchText)) {\n            searchMessages.push(m);\n          }\n        }\n      });\n      this.setState({\n        ...this.state,\n        searchMessages: searchMessages,\n        searching: true,\n      });\n    } else {\n      this.setState({ ...this.state, searching: false });\n    }\n  };\n\n  getMessagesRef = () => {\n    const { messagesRef, privateMessagesRef, isPrivateChannel } = this.state;\n    return isPrivateChannel ? privateMessagesRef : messagesRef;\n  };\n\n  displaySearchMessages = () => {\n    const { searchMessages } = this.state;\n    return searchMessages.length > 0 ? (\n      searchMessages.map((m) => (\n        <Message key={m.timestamp} message={m} user={this.state.user} />\n      ))\n    ) : (\n      <div>Cannot find such a message</div>\n    );\n  };\n\n  displayMessages = (messages, channel) => {\n    return messages.length > 0 ? (\n      messages.map((m) => (\n        <Message key={m.timestamp} message={m} user={this.state.user} />\n      ))\n    ) : (\n      <div>This is the beginning of Channel</div>\n    );\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <MessagesHeader\n          searchMessages={this.searchMessages}\n          uniqueUsers={this.state.uniqueUsers}\n        />\n        <Segment>\n          <Comment.Group className=\"messages\">\n            {this.state.searching\n              ? this.displaySearchMessages()\n              : this.displayMessages(\n                  this.state.messages,\n                  this.state.currentChannel\n                )}\n          </Comment.Group>\n        </Segment>\n        <MessageForm\n          messagesRef={this.state.messagesRef}\n          getMessagesRef={this.getMessagesRef}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  user: state.user.currentUser,\n  currentChannel: state.channel.currentChannel,\n});\n\nexport default connect(mapStateToProps, {})(Messages);\n","import React from \"react\";\nimport { Sidebar, Divider, Menu, Button } from \"semantic-ui-react\";\n\nclass ColorPanel extends React.Component {\n  render() {\n    return (\n      <React.Fragment>\n        <Sidebar\n          as={Menu}\n          icon=\"labelled\"\n          inverted\n          vertical\n          visible\n          width=\"very thin\"\n        >\n          <Divider />\n          <Button icon=\"add\" size=\"small\" color=\"blue\"></Button>\n        </Sidebar>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default ColorPanel;\n","import React, { Component } from \"react\";\nimport { Grid, Header, Icon, Image, Dropdown } from \"semantic-ui-react\";\nimport firebase from \"../../firebase\";\nimport { connect } from \"react-redux\";\n\nclass UserPanel extends Component {\n  state = {\n    user: this.props.currentUser,\n  };\n\n  handleSignout = () => {\n    firebase\n      .auth()\n      .signOut()\n      .then(() => console.log(\"Signout\"))\n      .catch((err) => console.log(err));\n  };\n\n  dropdownOptions = () => [\n    {\n      key: \"user\",\n      text: (\n        <span>\n          Signed In as <strong>{this.state.user.displayName}</strong>{\" \"}\n        </span>\n      ),\n    },\n\n    {\n      key: \"avatar\",\n      text: <span> Change Avatar</span>,\n    },\n\n    {\n      key: \"signout\",\n      text: <span onClick={this.handleSignout}>Sign out</span>,\n    },\n  ];\n\n  render() {\n    console.log(this.state);\n    return (\n      <Grid style={{ background: \"#2B2B52\" }}>\n        <Grid.Column>\n          <Grid.Row style={{ paddingTop: \"1.2em\", margin: \"0px\" }}>\n            <Header style={{ color: \"white\", textAlign: \"center\" }}>\n              <Header.Content inverted float=\"left\" as=\"h2\">\n                <Icon name=\"code\"></Icon>\n                Klack\n              </Header.Content>\n            </Header>\n          </Grid.Row>\n\n          <Header style={{ padding: \"0.24em\" }} inverted as=\"h4\">\n            <Dropdown\n              trigger={\n                <span style={{ paddingLeft: \"4em\" }}>\n                  {\" \"}\n                  <Image\n                    src={this.state.user.photoURL}\n                    spaced=\"right\"\n                    style={{\n                      width: \"40px\",\n                      height: \"40px\",\n                      borderRadius: \"50%\",\n                    }}\n                  />{\" \"}\n                  {this.state.user.displayName}\n                </span>\n              }\n              options={this.dropdownOptions()}\n            />\n          </Header>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  currentUser: state.user.currentUser,\n});\n\nexport default connect(mapStateToProps, {})(UserPanel);\n","import * as actionTypes from \"./types\";\n\nexport const setUser = (user) => {\n  return {\n    type: actionTypes.SET_USER,\n    payload: {\n      currentUser: user,\n    },\n  };\n};\n\nexport const clearUser = () => {\n  return {\n    type: actionTypes.CLEAR_USER,\n  };\n};\n\n/* CHANNELS */\n\nexport const setCurrentChannel = (channel) => {\n  return {\n    type: actionTypes.SET_CURRENT_CHANNEL,\n    payload: {\n      currentChannel: channel,\n    },\n  };\n};\n\nexport const setPrivateChannel = (isPrivateChannel) => {\n  return {\n    type: actionTypes.SET_PRIVATE_CHANNEL,\n    payload: {\n      isPrivateChannel,\n    },\n  };\n};\n","export const SET_USER = \"SET_USER\";\nexport const CLEAR_USER = \"CLEAR_USER\";\n\nexport const SET_CURRENT_CHANNEL = \"SET_CHANNEL\";\nexport const SET_PRIVATE_CHANNEL = \"SET_PRIVATE_CHANNEL\";\n","import React, { Component } from \"react\";\nimport { Menu, Icon, Modal, Input, Form, Button } from \"semantic-ui-react\";\nimport firebase from \"../../firebase\";\nimport { connect } from \"react-redux\";\nimport { setCurrentChannel, setPrivateChannel } from \"../../actions/index\";\n\nclass Channels extends Component {\n  state = {\n    user: this.props.user,\n    channels: [],\n    showModal: false,\n    channelName: \"\",\n    firstLoad: true,\n    channelDetails: \"\",\n    activeChannel: \"\",\n    channelsRef: firebase.database().ref(\"channels\"),\n  };\n\n  componentDidMount() {\n    this.addListeners();\n  }\n\n  componentWillUnmount() {\n    this.removeListeners();\n  }\n\n  removeListeners() {\n    this.state.channelsRef.off();\n  }\n\n  addListeners = () => {\n    let loadedChannels = [];\n    this.state.channelsRef.on(\"child_added\", (snap) => {\n      loadedChannels.push(snap.val());\n      this.setState({ channels: loadedChannels }, () => this.setFirstChannel());\n    });\n  };\n\n  handleChange = (event) => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  showModal = () => {\n    this.setState({ showModal: true });\n  };\n\n  closeModal = () => {\n    this.setState({ showModal: false });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    console.log(\"Submit\");\n    if (this.isFormValid(this.state)) {\n      this.addChannel();\n    }\n  };\n\n  isFormValid = ({ channelName, channelDetails }) => {\n    return channelName.length && channelDetails.length;\n  };\n\n  addChannel = () => {\n    const key = this.state.channelsRef.push().key;\n    const newChannel = {\n      id: key,\n      name: this.state.channelName,\n      details: this.state.channelDetails,\n      createdBy: {\n        name: this.state.user.displayName,\n        photoURL: this.state.user.photoURL,\n      },\n    };\n\n    this.state.channelsRef\n      .child(key)\n      .update(newChannel)\n      .then(() => {\n        this.setState({ channelName: \"\", channelDetails: \"\" });\n        this.closeModal();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  changeChannel = (channel) => {\n    this.props.setCurrentChannel(channel);\n    this.setActiveChannel(channel);\n  };\n\n  setFirstChannel = () => {\n    if (this.state.firstLoad && this.state.channels.length > 0) {\n      this.setState({\n        ...this.state,\n        activeChannel: this.state.channels[0].id,\n      });\n      this.setActiveChannel(this.state.channels[0]);\n      this.props.setCurrentChannel(this.state.channels[0]);\n      this.setState({ ...this.state, firstLoad: false });\n    }\n  };\n\n  setActiveChannel = (channel) => {\n    this.setState({ ...this.state, activeChannel: channel.id });\n  };\n\n  displayChannels = () => {\n    if (this.state.channels.length > 0) {\n      return this.state.channels.map((channel) => (\n        <Menu.Item\n          name={channel.name}\n          style={{ opacity: 0.7 }}\n          key={channel.id}\n          onClick={() => {\n            console.log(\"change\");\n            this.changeChannel(channel);\n          }}\n          active={channel.id == this.state.activeChannel}\n        >\n          # {channel.name}\n        </Menu.Item>\n      ));\n    }\n  };\n\n  render() {\n    const { channels } = this.state;\n\n    return (\n      <React.Fragment>\n        <Menu.Menu className=\"menu\" style={{ textAlign: \"center\" }}>\n          <br />\n\n          <Menu.Item>\n            <span>\n              <Icon name=\"exchange\"></Icon>\n              CHANNELS{\" \"}\n            </span>{\" \"}\n            ({channels.length}) <Icon onClick={this.showModal} name=\"add\" />\n          </Menu.Item>\n        </Menu.Menu>\n\n        {this.displayChannels()}\n\n        <Modal basic open={this.state.showModal} onClose={this.closeModal}>\n          <Modal.Header>Add Channel</Modal.Header>\n          <Modal.Content>\n            <Form>\n              <Input\n                fluid\n                label=\"Name Of Channel\"\n                name=\"channelName\"\n                onChange={this.handleChange}\n                value={this.state.channelName}\n              />\n              <br />\n\n              <Input\n                fluid\n                label=\"Description Of Channel\"\n                name=\"channelDetails\"\n                onChange={this.handleChange}\n                value={this.state.channelDetails}\n              />\n            </Form>\n          </Modal.Content>\n          <Modal.Actions>\n            <Button\n              onClick={this.handleSubmit}\n              color=\"green\"\n              inverted\n              style={{ marginBottom: \"20px\" }}\n            >\n              <Icon name=\"checkmark\" />\n              Add Channel\n            </Button>\n            <Button color=\"red\" inverted onClick={this.closeModal}>\n              <Icon name=\"remove\" />\n              Cancel\n            </Button>\n          </Modal.Actions>\n        </Modal>\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  user: state.user.currentUser,\n});\n\nexport default connect(mapStateToProps, {\n  setCurrentChannel,\n  setPrivateChannel,\n})(Channels);\n","import React, { Component } from \"react\";\nimport { Menu, Icon } from \"semantic-ui-react\";\nimport { setCurrentChannel, setPrivateChannel } from \"../../actions\";\nimport { connect } from \"react-redux\";\nimport firebase from \"../../firebase\";\n\nclass DirectMessages extends Component {\n  state = {\n    users: [],\n    currentUser: this.props.currentUser,\n    usersRef: firebase.database().ref(\"users\"),\n    connectedRef: firebase.database().ref(\".info/connected\"),\n    presenceRef: firebase.database().ref(\"presence\"),\n  };\n\n  componentDidMount() {\n    console.log(this.props);\n    this.setState({ ...this.state, currentUser: this.props.currentUser });\n    this.addListeners(this.state.currentUser.uid);\n  }\n\n  addListeners = (uid) => {\n    let loadedUsers = [];\n    this.state.usersRef.on(\"child_added\", (snap) => {\n      if (uid !== snap.key) {\n        let user = snap.val();\n        user[\"uid\"] = snap.key;\n        user[\"status\"] = \"offline\";\n        loadedUsers.push(user);\n        this.setState({ users: loadedUsers });\n      }\n    });\n\n    this.state.connectedRef.on(\"value\", (snap) => {\n      if (snap.val() === true) {\n        this.state.presenceRef.child(uid).set(true);\n      }\n    });\n\n    this.state.presenceRef.on(\"child_added\", (snap) => {\n      if (uid !== snap.key) {\n        this.addStatusToUser(snap.key, true);\n      }\n    });\n\n    this.state.presenceRef.on(\"child_removed\", (snap) => {\n      if (uid !== snap.key) {\n        this.addStatusToUser(snap.key, false);\n      }\n    });\n  };\n\n  addStatusToUser = (uid, connected) => {\n    const updatedUsers = this.state.users.reduce((acc, user) => {\n      if (user.uid === uid) {\n        user[\"status\"] = connected ? \"online\" : \"offline\";\n      }\n      return acc.concat(user);\n    }, []);\n\n    this.setState({ users: updatedUsers });\n  };\n\n  changeChannel = (user) => {\n    const channelId = this.getChannelId(user.uid);\n    const channelData = {\n      id: channelId,\n      name: user.name,\n    };\n\n    this.props.setCurrentChannel(channelData);\n    this.props.setPrivateChannel(true);\n  };\n\n  getChannelId = (uid) => {\n    const currentUserId = this.state.currentUser.uid;\n    return uid < currentUserId\n      ? `${uid}/${currentUserId}`\n      : `${currentUserId}/${uid}`;\n  };\n\n  render() {\n    const { users } = this.state;\n    return (\n      <Menu.Menu className=\"menu\">\n        <Menu.Item>\n          <span>\n            <Icon name=\"mail\" /> DIRECT MESSAGES {users.length}\n          </span>\n        </Menu.Item>\n        {this.state.users.map((u) => (\n          <Menu.Item\n            key={u.uid}\n            onClick={() => {\n              this.changeChannel(u);\n            }}\n          >\n            <Icon\n              name=\"circle\"\n              color={u.status === \"online\" ? \"green\" : \"red\"}\n            />{\" \"}\n            {u.name}\n          </Menu.Item>\n        ))}\n      </Menu.Menu>\n    );\n  }\n}\n\nexport default connect(null, { setCurrentChannel, setPrivateChannel })(\n  DirectMessages\n);\n","import React from \"react\";\nimport { Menu } from \"semantic-ui-react\";\nimport UserPanel from \"./UserPanel\";\nimport Channels from \"./Channels\";\nimport DirectMessages from \"./DirectMessages\";\nimport { connect } from \"react-redux\";\n\nclass SidePanel extends React.Component {\n  render() {\n    return (\n      <Menu\n        size=\"large\"\n        inverted\n        fixed=\"left\"\n        vertical\n        style={{ background: \"#2B2B52\", fontSize: \"1.2rem\" }}\n      >\n        <UserPanel />\n        <Channels />\n        <br />\n        <br />\n        {/* <DirectMessages currentUser={this.props.currentUser} /> */}\n      </Menu>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  currentUser: state.user.currentUser,\n});\n\nexport default connect(mapStateToProps, {})(SidePanel);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  Segment,\n  Accordion,\n  Header,\n  Icon,\n  Image,\n  List,\n} from \"semantic-ui-react\";\n\nclass MetaPanel extends React.Component {\n  state = {\n    channel: this.props.currentChannel,\n    activeIndex: 0,\n  };\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ ...this.state, channel: nextProps.currentChannel });\n  }\n\n  setActiveIndex = (event, titleProps) => {\n    const { index } = titleProps;\n    const { activeIndex } = this.state;\n    const newIndex = activeIndex === index ? -1 : index;\n    this.setState({ activeIndex: newIndex });\n  };\n\n  formatCount = (num) =>\n    num > 1 || num === 0 ? `${num} posts` : `${num} post`;\n\n  displayTopPosters = (posts) =>\n    Object.entries(posts)\n      .sort((a, b) => b[1] - a[1])\n      .map(([key, val], i) => (\n        <List.Item key={i}>\n          <Image avatar src={val.avatar} />\n          <List.Content>\n            <List.Header as=\"a\">{key}</List.Header>\n            <List.Description>{this.formatCount(val.count)}</List.Description>\n          </List.Content>\n        </List.Item>\n      ))\n      .slice(0, 5);\n\n  render() {\n    const { activeIndex, channel } = this.state;\n    const { userPosts } = this.props;\n\n    return (\n      <Segment style={{ height: \"100vh\" }}>\n        <Header as=\"h3\" attached=\"top\">\n          About # {channel && channel.name}\n        </Header>\n        <Accordion styled attached=\"true\">\n          <Accordion.Title\n            active={activeIndex === 0}\n            index={0}\n            onClick={this.setActiveIndex}\n          >\n            <Icon name=\"dropdown\" />\n            <Icon name=\"info\" />\n            Channel Details\n          </Accordion.Title>\n          <Accordion.Content active={activeIndex === 0}>\n            {channel && channel.details}\n          </Accordion.Content>\n\n          <Accordion.Title\n            active={activeIndex === 1}\n            index={1}\n            onClick={this.setActiveIndex}\n          >\n            <Icon name=\"dropdown\" />\n            <Icon name=\"user circle\" />\n            Top Posters\n          </Accordion.Title>\n          <Accordion.Content active={activeIndex === 1}>\n            <List>{userPosts && this.displayTopPosters(userPosts)}</List>\n          </Accordion.Content>\n\n          <Accordion.Title\n            active={activeIndex === 2}\n            index={2}\n            onClick={this.setActiveIndex}\n          >\n            <Icon name=\"dropdown\" />\n            <Icon name=\"pencil alternate\" />\n            Created By\n          </Accordion.Title>\n          <Accordion.Content active={activeIndex === 2}>\n            <Header as=\"h3\">\n              <Image circular src={channel && channel.createdBy.avatar} />\n              {channel && channel.createdBy.name}\n            </Header>\n          </Accordion.Content>\n        </Accordion>\n      </Segment>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  console.log(state);\n  return {\n    currentChannel: state.channel.currentChannel,\n  };\n};\n\nexport default connect(mapStateToProps, {})(MetaPanel);\n","import React from \"react\";\nimport \"./App.css\";\nimport { Grid } from \"semantic-ui-react\";\nimport Messages from \"./messages/Messages\";\nimport ColorPanel from \"./color-panel/ColorPanel\";\nimport SidePanel from \"./side-panel/SidePanel\";\nimport MetaPanel from \"./meta-panel/MetaPanel\";\nimport { connect } from \"react-redux\";\n\nfunction App(props) {\n  return (\n    <Grid columns=\"equal\" className=\"app\" style={{ background: \"#eee\" }}>\n      <SidePanel currentUser={props.currentUser} />\n      <Grid.Column style={{ marginLeft: 320 }}>\n        <Messages isPrivateChannel={props.isPrivateChannel} />\n      </Grid.Column>\n\n      <Grid.Column width={4}>\n        <MetaPanel />\n      </Grid.Column>\n    </Grid>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isPrivateChannel: state.channel.isPrivateChannel,\n    currentUser: state.currentUser,\n  };\n};\n\nexport default connect(mapStateToProps)(App);\n","import React from \"react\";\nimport {\n  Grid,\n  Form,\n  Segment,\n  Button,\n  Header,\n  Message,\n  Icon,\n} from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\nimport firebase from \"../../firebase\";\n\nclass Login extends React.Component {\n  state = {\n    email: \"\",\n    password: \"\",\n    errors: [],\n    loading: false,\n    usersRef: firebase.database().ref(\"users\"),\n  };\n\n  handleChange = (event) => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    this.setState({ errors: [], loading: true });\n    if (this.isFormValid(this.state)) {\n      firebase\n        .auth()\n        .signInWithEmailAndPassword(this.state.email, this.state.password)\n        .then((signedInUser) => {\n          this.setState({ loading: false });\n        })\n        .catch((err) => {\n          console.log(err);\n          this.setState({\n            errors: this.state.errors.concat(err),\n            loading: false,\n          });\n        });\n    }\n  };\n\n  isFormValid = ({ email, password }) => email && password;\n\n  saveUser = (createdUser) => {\n    return this.state.usersRef.child(createdUser.user.uid).set({\n      name: createdUser.user.displayName,\n      avatar: createdUser.user.photoURL,\n    });\n  };\n\n  showErrors = () => {\n    return this.state.errors.map((err, i) => <p key={i}>{err.message}</p>);\n  };\n\n  render() {\n    const { email, password, loading } = this.state;\n    return (\n      <Grid textAlign=\"center\" verticalAlign=\"middle\" className=\"app\">\n        <Grid.Column style={{ maxWidth: \"450px\" }}>\n          <Header as=\"h4\" icon color=\"blue\" textAlign=\"center\">\n            <Icon name=\"code branch\" color=\"violet\">\n              {\" \"}\n              <br />\n              Login for Klack\n            </Icon>\n          </Header>\n          {this.state.errors.length > 0 && (\n            <Message color=\"red\">\n              <h4>Errors</h4>\n              {this.showErrors()}\n            </Message>\n          )}\n          <Form size=\"large\" onSubmit={this.handleSubmit}>\n            <Segment stacked>\n              <Form.Input\n                fluid\n                name=\"email\"\n                value={email}\n                icon=\"envelope\"\n                iconPosition=\"left\"\n                placeholder=\"Email\"\n                type=\"email\"\n                onChange={this.handleChange}\n              ></Form.Input>\n              <Form.Input\n                fluid\n                value={password}\n                name=\"password\"\n                icon=\"key\"\n                iconPosition=\"left\"\n                placeholder=\"Password\"\n                type=\"password\"\n                onChange={this.handleChange}\n              ></Form.Input>\n\n              <Button\n                disabled={loading}\n                className={loading ? \"loading\" : \"\"}\n                color=\"violet\"\n                fluid\n                size=\"large\"\n              >\n                Submit\n              </Button>\n            </Segment>\n          </Form>\n          <Message>\n            New User? <Link to=\"/register\">Register Here</Link>\n          </Message>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n\nexport default Login;\n","import React from \"react\";\nimport {\n  Grid,\n  Form,\n  Segment,\n  Button,\n  Header,\n  Message,\n  Icon,\n} from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\nimport firebase from \"../../firebase\";\nimport md5 from \"md5\";\n\nclass Register extends React.Component {\n  state = {\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    passwordConfirmation: \"\",\n    errors: [],\n    loading: false,\n    usersRef: firebase.database().ref(\"users\"),\n  };\n\n  handleChange = (event) => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    this.setState({ errors: [], loading: true });\n    if (this.isFormValid()) {\n      firebase\n        .auth()\n        .createUserWithEmailAndPassword(this.state.email, this.state.password)\n        .then((createdUser) => {\n          createdUser.user\n            .updateProfile({\n              displayName: this.state.username,\n              photoURL: `http://gravatar.com/avatar/${md5(\n                createdUser.user.email\n              )}?d=identicon`,\n            })\n            .then(() => {\n              this.saveUser(createdUser).then(() => {\n                console.log(\"user saved\");\n                this.setState({ loading: false });\n              });\n            })\n            .catch((err) => console.log(err));\n        })\n        .catch((err) => {\n          this.setState({\n            errors: this.state.errors.concat(err),\n            loading: false,\n          });\n          console.log(err);\n        });\n    }\n  };\n\n  saveUser = (createdUser) => {\n    return this.state.usersRef.child(createdUser.user.uid).set({\n      name: createdUser.user.displayName,\n      avatar: createdUser.user.photoURL,\n    });\n  };\n\n  isFormValid = () => {\n    if (this.isFormEmpty(this.state)) {\n      this.setState({\n        errors: this.state.errors.concat({\n          message: \"Please fillout all fields\",\n        }),\n      });\n    } else if (\n      !this.isPasswordValid(\n        this.state.password,\n        this.state.passwordConfirmation\n      )\n    ) {\n    } else {\n      return true;\n    }\n  };\n\n  isFormEmpty = ({ email, username, password, passwordConfirmation }) => {\n    return (\n      !password.length ||\n      !passwordConfirmation.length ||\n      !username.length ||\n      !email.length\n    );\n  };\n\n  isPasswordValid = (password, passwordConfirmation) => {\n    if (password.length < 6) {\n      this.setState({\n        errors: this.state.errors.concat({\n          message: \"Password must be 6 characters long\",\n        }),\n      });\n      return false;\n    } else if (password !== passwordConfirmation) {\n      this.setState({\n        errors: this.state.errors.concat({ message: \"Passwords donot match\" }),\n      });\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  showErrors = () => {\n    return this.state.errors.map((err, i) => <p key={i}>{err.message}</p>);\n  };\n\n  render() {\n    const {\n      username,\n      email,\n      password,\n      passwordConfirmation,\n      loading,\n    } = this.state;\n    return (\n      <Grid textAlign=\"center\" verticalAlign=\"middle\" className=\"app\">\n        <Grid.Column style={{ maxWidth: \"450px\" }}>\n          <Header as=\"h4\" icon color=\"blue\" textAlign=\"center\">\n            <Icon name=\"comment outline\" color=\"blue\">\n              {\" \"}\n              <br />\n              Register for Klack\n            </Icon>\n          </Header>\n          {this.state.errors.length > 0 && (\n            <Message color=\"red\">\n              <h4>Errors</h4>\n              {this.showErrors()}\n            </Message>\n          )}\n          <Form size=\"large\" onSubmit={this.handleSubmit}>\n            <Segment stacked>\n              <Form.Input\n                fluid\n                name=\"username\"\n                value={username}\n                icon=\"user\"\n                iconPosition=\"left\"\n                placeholder=\"Username\"\n                type=\"text\"\n                onChange={this.handleChange}\n              ></Form.Input>\n              <Form.Input\n                fluid\n                name=\"email\"\n                value={email}\n                icon=\"envelope\"\n                iconPosition=\"left\"\n                placeholder=\"Email\"\n                type=\"text\"\n                onChange={this.handleChange}\n              ></Form.Input>\n              <Form.Input\n                fluid\n                value={password}\n                name=\"password\"\n                icon=\"key\"\n                iconPosition=\"left\"\n                placeholder=\"Password\"\n                type=\"password\"\n                onChange={this.handleChange}\n              ></Form.Input>\n              <Form.Input\n                fluid\n                value={passwordConfirmation}\n                name=\"passwordConfirmation\"\n                icon=\"repeat\"\n                iconPosition=\"left\"\n                placeholder=\"Password\"\n                type=\"password\"\n                onChange={this.handleChange}\n              ></Form.Input>\n\n              <Button\n                disabled={loading}\n                className={loading ? \"loading\" : \"\"}\n                color=\"blue\"\n                fluid\n                size=\"large\"\n              >\n                Submit\n              </Button>\n            </Segment>\n          </Form>\n          <Message>\n            Already A User ? <Link to=\"/login\">Login Here</Link>\n          </Message>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n\nexport default Register;\n","import * as actionTypes from \"../actions/types\";\nimport { combineReducers } from \"redux\";\n\nconst initialUserState = {\n  currentUser: null,\n  isLoading: true,\n};\n\nconst initialChannelState = {\n  currentChannel: null,\n  isPrivateChannel: false,\n};\n\nconst user_reducer = (state = initialUserState, action) => {\n  switch (action.type) {\n    case actionTypes.SET_USER:\n      return {\n        currentUser: action.payload.currentUser,\n        isLoading: false,\n      };\n\n    case actionTypes.CLEAR_USER:\n      return {\n        ...initialUserState,\n        isLoading: false,\n      };\n\n    case actionTypes.SET_PRIVATE_CHANNEL:\n      return {\n        ...initialChannelState,\n        isPrivateChannel: action.payload.isPrivateChannel,\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst channel_reducer = (state = initialChannelState, action) => {\n  switch (action.type) {\n    case actionTypes.SET_CURRENT_CHANNEL:\n      return {\n        ...state,\n        currentChannel: action.payload.currentChannel,\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst rootReducer = combineReducers({\n  user: user_reducer,\n  channel: channel_reducer,\n});\n\nexport default rootReducer;\n","import React from \"react\";\nimport { Loader, Dimmer } from \"semantic-ui-react\";\n\nexport default function Spinner() {\n  return (\n    <Dimmer active>\n      <Loader size=\"huge\" content=\"Preparing Chat...\" />\n    </Dimmer>\n  );\n}\n","import React from \"react\";\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  withRouter,\n} from \"react-router-dom\";\nimport App from \"./App\";\nimport Login from \"./auth/Login\";\nimport Register from \"./auth/Register\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport firebase from \"../firebase\";\nimport { createStore } from \"redux\";\nimport { Provider, connect } from \"react-redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport rootReducer from \"../reducers\";\nimport { setUser, clearUser } from \"../actions/index\";\nimport Spinner from \"../Spinner\";\n\nconst store = createStore(rootReducer, composeWithDevTools());\n\nclass Root extends React.Component {\n  componentDidMount() {\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user) {\n        this.props.setUser(user);\n        this.props.history.push(\"/\");\n      } else {\n        this.props.clearUser();\n\n        this.props.history.push(\"/login\");\n      }\n    });\n  }\n\n  render() {\n    return this.props.isLoading ? (\n      <Spinner />\n    ) : (\n      <Router>\n        <Switch>\n          <Route path=\"/\" exact component={App} />\n          <Route path=\"/login\" exact component={Login} />\n          <Route path=\"/register\" exact component={Register} />\n        </Switch>\n      </Router>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  isLoading: state.user.isLoading,\n});\n\nconst RoutesWithAuth = withRouter(\n  connect(mapStateToProps, { setUser, clearUser })(Root)\n);\n\nclass Routes extends React.Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <Router>\n          <RoutesWithAuth />\n        </Router>\n      </Provider>\n    );\n  }\n}\n\nexport default Routes;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport * as serviceWorker from \"./serviceWorker\";\nimport Routes from \"./components/Routes\";\n\nReactDOM.render(<Routes />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}