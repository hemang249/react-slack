(this["webpackJsonpslack-clone"]=this["webpackJsonpslack-clone"]||[]).push([[0],{270:function(e,t,a){e.exports=a(454)},275:function(e,t,a){},454:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(45),l=a.n(s);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(17),o=a(18),i=a(19),u=a(22),m=a(57),h=a(78),d=(a(275),a(480)),p=a(20),f=a(475),g=a(471),b=a(24),E=a(476),v=a(66),C=a(464),y=a(456),O=a(26),j=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={currentChannel:"",searchText:""},e.handleChange=function(t){e.setState(Object(p.a)({},e.state,Object(b.a)({},t.target.name,t.target.value)))},e}return Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(p.a)({},this.state,{currentChannel:e.currentChannel}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{clearing:!0},r.a.createElement(E.a,{fluid:"true",as:"h2",floated:"left",style:{marginBottom:0}},r.a.createElement("span",null,this.state.currentChannel&&this.state.currentChannel.name.toUpperCase(),r.a.createElement(v.a,{name:"star outline",color:"black"}))),r.a.createElement(E.a,{floated:"right"},r.a.createElement(C.a,{size:"mini",icon:"search",name:"searchText",placeholder:"search messages",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(y.a,{color:"green",onClick:function(){e.props.searchMessages(e.state.searchText)}}," ","Search"," "))))}}]),a}(n.Component),S=Object(O.b)((function(e){return{currentChannel:e.channel.currentChannel}}),{})(j),k=a(161),w=a.n(k),U=(a(365),a(367),a(455),{apiKey:"AIzaSyCv2Rh88a8YshIP81tfHu8OfaqWTioKPRk",authDomain:"react-slack-clone-7b265.firebaseapp.com",databaseURL:"https://react-slack-clone-7b265.firebaseio.com",projectId:"react-slack-clone-7b265",storageBucket:"react-slack-clone-7b265.appspot.com",messagingSenderId:"289515100388",appId:"1:289515100388:web:f3317214cd51dcf011f4f1",measurementId:"G-5EFCYX52T1"});w.a.initializeApp(U);var R=w.a,M=a(470),A=a(162),L=a.n(A),N=a(235),P=a.n(N),x=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={file:null,permittedTypes:["image/jpeg","image/png","image/jpg"],user:null,percentUploaded:0,currentChannel:null,storageRef:R.storage().ref(),messgesRef:R.database().ref("messages"),uploadState:"",uploadTask:""},e.addFile=function(t){var a=t.target.files[0];a&&e.setState(Object(p.a)({},e.state,{file:a}))},e.sendFile=function(){var t=e.state.file;if(t&&e.isPermitted(t.name)){var a={contentType:L.a.lookup(t.name)};e.uploadFile(t,a)}},e.clearFile=function(){e.setState(Object(p.a)({},e.state,{file:null}))},e.uploadFile=function(t,a){var n=e.state.currentChannel.id,r=e.state.messgesRef,s="chat/public".concat(P()(),".jpg");e.setState(Object(p.a)({},e.state,{uploadState:"uploading",uploadTask:e.state.storageRef.child(s).put(t,a)}),(function(){e.state.uploadTask.on("state_changed",(function(t){var a=Math.round(t.bytesTransferred/t.totalBytes*100);e.setState({percentUploaded:a})}),(function(e){return console.log(e)}),(function(){e.props.closeModal(),e.state.uploadTask.snapshot.ref.getDownloadURL().then((function(t){return e.props.sendFileMessage(t,r,n)}))}))}))},e.isPermitted=function(t){return e.state.permittedTypes.includes(L.a.lookup(t))},e}return Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(p.a)({},this.state,{user:e.user,currentChannel:e.currentChannel}))}},{key:"render",value:function(){return r.a.createElement(M.a,{basic:!0,open:this.props.modal,close:this.props.closeModal},r.a.createElement(M.a.Header,null,"Select File"),r.a.createElement(M.a.Content,null,r.a.createElement(C.a,{onChange:this.addFile,fluid:!0,label:"file types : jpg / png",name:"file",type:"file"})),r.a.createElement(M.a.Actions,null,r.a.createElement(y.a,{color:"green",onClick:this.sendFile,inverted:!0}," ",r.a.createElement(v.a,{name:"checkmark"}),"Upload"),r.a.createElement(y.a,{color:"red",onClick:this.props.closeModal,inverted:!0}," ",r.a.createElement(v.a,{name:"remove"})," Cancel")))}}]),a}(n.Component),F=Object(O.b)((function(e){return{currentChannel:e.channel.currentChannel,user:e.user.currentUser}}),{})(x),T=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={user:e.props.currentUser,message:"",loading:!1,currentChannel:e.props.currentChannel,errors:[],messagesRef:e.props.messagesRef,modal:!1},e.handleChange=function(t){e.setState(Object(p.a)({},e.state,Object(b.a)({},t.target.name,t.target.value)))},e.openModal=function(){return e.setState(Object(p.a)({},e.state,{modal:!0}))},e.closeModal=function(){return e.setState(Object(p.a)({},e.state,{modal:!1}))},e.sendMessage=function(){var t=e.state,a=t.messagesRef,n=t.message,r=t.currentChannel;n.length>0&&(e.setState(Object(p.a)({},e.state,{loading:!0})),a.child(r.id).push().set(e.createMessage()).then((function(){console.log("sent"),e.setState(Object(p.a)({},e.state,{message:"",loading:!1,errors:[]}))})).catch((function(t){console.log(t),e.setState(Object(p.a)({},e.state,{loading:!1,errors:e.state.errors.concat(t)}))})))},e.createMessage=function(t){var a={timestamp:R.database.ServerValue.TIMESTAMP,user:{id:e.state.user.uid,displayName:e.state.user.displayName,photoURL:e.state.user.photoURL}};return t?a.image=t:a.content=e.state.message,a},e.sendFileMessage=function(t,a,n){a.child(n).push().set(e.createMessage(t)).then((function(){return console.log("upload done")})).catch((function(e){return console.log(e)}))},e}return Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(p.a)({},this.state,{currentChannel:e.currentChannel}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{className:"message__form"},r.a.createElement(C.a,{fluid:!0,name:"message",onChange:this.handleChange,value:this.state.message,style:{marginBottom:"0.7em"},label:r.a.createElement(y.a,{icon:"add"}),labelPosition:"left",className:this.state.errors.some((function(e){return e.includes("message")}))?"error":""}),r.a.createElement(y.a.Group,{icons:!0,widths:"2"},r.a.createElement(y.a,{disabled:this.state.loading,onClick:this.sendMessage,color:"orange",icon:"edit",content:"reply",labelPosition:"left"}),r.a.createElement(y.a,{onClick:this.openModal,color:"green",content:"upload media",icon:"cloud upload",labelPosition:"right"}),r.a.createElement(F,{modal:this.state.modal,sendFileMessage:this.sendFileMessage,closeModal:this.closeModal}))))}}]),a}(n.Component),I=Object(O.b)((function(e){return{currentChannel:e.channel.currentChannel,currentUser:e.user.currentUser}}),{})(T),D=a(258),W=a(244),_=a.n(W);function B(e){var t,a,n;return r.a.createElement(g.a,null,r.a.createElement(g.a.Avatar,{src:e.message.user.photoURL}),r.a.createElement(g.a.Content,{className:(a=e.message,n=e.user,n.uid===a.user.id?"message__self":"")},r.a.createElement(g.a.Author,{as:"a"},e.message.user.displayName),r.a.createElement(g.a.Metadata,null,(t=e.message.timestamp,_()(t).fromNow())),function(e){return e.hasOwnProperty("image")&&!e.hasOwnProperty("content")}(e.message)?r.a.createElement(D.a,{src:e.message.image}):r.a.createElement(g.a.Text,null,e.message.content)))}var z=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={messagesRef:R.database().ref("messages"),currentChannel:null,messages:[],messagesLoading:!0,user:null,uniqueUsers:0,searching:!1,searchMessages:[]},e.addListeners=function(t){e.addMessageListener(t)},e.addMessageListener=function(t){var a=[];e.state.messagesRef.child(t).on("child_added",(function(t){a.push(t.val()),e.setState(Object(p.a)({},e.state,{messages:a,messagesLoading:!1}))}))},e.searchMessages=function(t){var a=[];""!=t?(e.state.messages.map((function(e){e.content&&e.content.includes(t)&&a.push(e)})),e.setState(Object(p.a)({},e.state,{searchMessages:a,searching:!0}))):e.setState(Object(p.a)({},e.state,{searching:!1}))},e.displaySearchMessages=function(){var t=e.state.searchMessages;return t.length>0?t.map((function(t){return r.a.createElement(B,{key:t.timestamp,message:t,user:e.state.user})})):r.a.createElement("div",null,"Cannot find such a message")},e.displayMessages=function(t,a){return t.length>0?t.map((function(t){return r.a.createElement(B,{key:t.timestamp,message:t,user:e.state.user})})):r.a.createElement("div",null,"This is the beginning of Channel")},e}return Object(o.a)(a,[{key:"componentWillUnmount",value:function(){this.state.messagesRef.off()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState(Object(p.a)({},this.state,{user:e.user,currentChannel:e.currentChannel}),(function(){var e=t.state,a=e.currentChannel,n=e.user;a&&n&&t.addListeners(a.id)}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{searchMessages:this.searchMessages,uniqueUsers:this.state.uniqueUsers}),r.a.createElement(f.a,null,r.a.createElement(g.a.Group,{className:"messages"},this.state.searching?this.displaySearchMessages():this.displayMessages(this.state.messages,this.state.currentChannel))),r.a.createElement(I,{messagesRef:this.state.messagesRef}))}}]),a}(r.a.Component),H=Object(O.b)((function(e){return{user:e.user.currentUser,currentChannel:e.channel.currentChannel}}),{})(z),V=a(479),q=a(474),K=a(467),G=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{as:q.a,icon:"labelled",inverted:!0,vertical:!0,visible:!0,width:"very thin"},r.a.createElement(K.a,null),r.a.createElement(y.a,{icon:"add",size:"small",color:"blue"})))}}]),a}(r.a.Component),J=a(472),Y=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={user:e.props.currentUser},e.handleSignout=function(){R.auth().signOut().then((function(){return console.log("Signout")})).catch((function(e){return console.log(e)}))},e.dropdownOptions=function(){return[{key:"user",text:r.a.createElement("span",null,"Signed In as ",r.a.createElement("strong",null,e.state.user.displayName)," ")},{key:"avatar",text:r.a.createElement("span",null," Change Avatar")},{key:"signout",text:r.a.createElement("span",{onClick:e.handleSignout},"Sign out")}]},e}return Object(o.a)(a,[{key:"render",value:function(){return console.log(this.state),r.a.createElement(d.a,{style:{background:"#2B2B52"}},r.a.createElement(d.a.Column,null,r.a.createElement(d.a.Row,{style:{paddingTop:"1.2em",margin:"0px"}},r.a.createElement(E.a,{style:{color:"white",textAlign:"center"}},r.a.createElement(E.a.Content,{inverted:!0,float:"left",as:"h2"},r.a.createElement(v.a,{name:"code"}),"Klack"))),r.a.createElement(E.a,{style:{padding:"0.24em"},inverted:!0,as:"h4"},r.a.createElement(J.a,{trigger:r.a.createElement("span",{style:{paddingLeft:"4em"}}," ",r.a.createElement(D.a,{src:this.state.user.photoURL,spaced:"right",style:{width:"40px",height:"40px",borderRadius:"50%"}})," ",this.state.user.displayName),options:this.dropdownOptions()}))))}}]),a}(n.Component),X=Object(O.b)((function(e){return{currentUser:e.user.currentUser}}),{})(Y),$=a(469),Q=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={user:e.props.user,channels:[],showModal:!1,channelName:"",firstLoad:!0,channelDetails:"",activeChannel:"",channelsRef:R.database().ref("channels")},e.addListeners=function(){var t=[];e.state.channelsRef.on("child_added",(function(a){t.push(a.val()),e.setState({channels:t},(function(){return e.setFirstChannel()}))}))},e.handleChange=function(t){e.setState(Object(b.a)({},t.target.name,t.target.value))},e.showModal=function(){e.setState({showModal:!0})},e.closeModal=function(){e.setState({showModal:!1})},e.handleSubmit=function(t){t.preventDefault(),console.log("Submit"),e.isFormValid(e.state)&&e.addChannel()},e.isFormValid=function(e){var t=e.channelName,a=e.channelDetails;return t.length&&a.length},e.addChannel=function(){var t=e.state.channelsRef.push().key,a={id:t,name:e.state.channelName,details:e.state.channelDetails,createdBy:{name:e.state.user.displayName,photoURL:e.state.user.photoURL}};e.state.channelsRef.child(t).update(a).then((function(){e.setState({channelName:"",channelDetails:""}),e.closeModal()})).catch((function(e){return console.log(e)}))},e.changeChannel=function(t){e.props.setCurrentChannel(t),e.setActiveChannel(t)},e.setFirstChannel=function(){e.state.firstLoad&&e.state.channels.length>0&&(e.setState(Object(p.a)({},e.state,{activeChannel:e.state.channels[0].id})),e.setActiveChannel(e.state.channels[0]),e.props.setCurrentChannel(e.state.channels[0]),e.setState(Object(p.a)({},e.state,{firstLoad:!1})))},e.setActiveChannel=function(t){e.setState(Object(p.a)({},e.state,{activeChannel:t.id}))},e.displayChannels=function(){if(e.state.channels.length>0)return e.state.channels.map((function(t){return r.a.createElement(q.a.Item,{name:t.name,style:{opacity:.7},key:t.id,onClick:function(){console.log("change"),e.changeChannel(t)},active:t.id==e.state.activeChannel},"# ",t.name)}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"removeListeners",value:function(){this.state.channelsRef.off()}},{key:"render",value:function(){var e=this.state.channels;return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a.Menu,{className:"menu",style:{textAlign:"center"}},r.a.createElement("br",null),r.a.createElement(q.a.Item,null,r.a.createElement("span",null,r.a.createElement(v.a,{name:"exchange"}),"CHANNELS"," ")," ","(",e.length,") ",r.a.createElement(v.a,{onClick:this.showModal,name:"add"}))),this.displayChannels(),r.a.createElement(M.a,{basic:!0,open:this.state.showModal,onClose:this.closeModal},r.a.createElement(M.a.Header,null,"Add Channel"),r.a.createElement(M.a.Content,null,r.a.createElement($.a,null,r.a.createElement(C.a,{fluid:!0,label:"Name Of Channel",name:"channelName",onChange:this.handleChange,value:this.state.channelName}),r.a.createElement("br",null),r.a.createElement(C.a,{fluid:!0,label:"Description Of Channel",name:"channelDetails",onChange:this.handleChange,value:this.state.channelDetails}))),r.a.createElement(M.a.Actions,null,r.a.createElement(y.a,{onClick:this.handleSubmit,color:"green",inverted:!0,style:{marginBottom:"20px"}},r.a.createElement(v.a,{name:"checkmark"}),"Add Channel"),r.a.createElement(y.a,{color:"red",inverted:!0,onClick:this.closeModal},r.a.createElement(v.a,{name:"remove"}),"Cancel"))))}}]),a}(n.Component),Z=Object(O.b)((function(e){return{user:e.user.currentUser}}),{setCurrentChannel:function(e){return{type:"SET_CHANNEL",payload:{currentChannel:e}}}})(Q),ee=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={users:[],currentUser:null,usersRef:R.database().ref("users")},e.addListeners=function(t){e.state.usersRef.on("child_added",(function(e){}))},e}return Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(p.a)({},this.state,{currentUser:e.currentUser})),this.addListeners(this.state.currentUser.uid)}},{key:"render",value:function(){var e=this.state.users;return r.a.createElement(q.a.Menu,{className:"menu"},r.a.createElement(q.a.Item,null,r.a.createElement("span",null,r.a.createElement(v.a,{name:"mail"})," DIRECT MESSAGES ",e.length)))}}]),a}(n.Component),te=Object(O.b)((function(e){return{currentUser:e.user.currentUser}}),{})(ee),ae=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(q.a,{size:"large",inverted:!0,fixed:"left",vertical:!0,style:{background:"#2B2B52",fontSize:"1.2rem"}},r.a.createElement(X,null),r.a.createElement(Z,null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(te,null))}}]),a}(r.a.Component),ne=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,"Helo")}}]),a}(r.a.Component);var re=Object(O.b)((function(e){return{currentUser:e.currentUser}}))((function(e){return r.a.createElement(d.a,{columns:"equal",className:"app",style:{background:"#eee"}},r.a.createElement(G,null),r.a.createElement(ae,{currentUser:e.currentUser}),r.a.createElement(d.a.Column,{style:{marginLeft:320}},r.a.createElement(H,null)),r.a.createElement(d.a.Column,{width:4},r.a.createElement(ne,null)))})),se=a(473),le=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={email:"",password:"",errors:[],loading:!1,usersRef:R.database().ref("users")},e.handleChange=function(t){e.setState(Object(b.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.setState({errors:[],loading:!0}),e.isFormValid(e.state)&&R.auth().signInWithEmailAndPassword(e.state.email,e.state.password).then((function(t){e.setState({loading:!1})})).catch((function(t){console.log(t),e.setState({errors:e.state.errors.concat(t),loading:!1})}))},e.isFormValid=function(e){var t=e.email,a=e.password;return t&&a},e.saveUser=function(t){return e.state.usersRef.child(t.user.uid).set({name:t.user.displayName,avatar:t.user.photoURL})},e.showErrors=function(){return e.state.errors.map((function(e,t){return r.a.createElement("p",{key:t},e.message)}))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.loading;return r.a.createElement(d.a,{textAlign:"center",verticalAlign:"middle",className:"app"},r.a.createElement(d.a.Column,{style:{maxWidth:"450px"}},r.a.createElement(E.a,{as:"h4",icon:!0,color:"blue",textAlign:"center"},r.a.createElement(v.a,{name:"code branch",color:"violet"}," ",r.a.createElement("br",null),"Login for Klack")),this.state.errors.length>0&&r.a.createElement(se.a,{color:"red"},r.a.createElement("h4",null,"Errors"),this.showErrors()),r.a.createElement($.a,{size:"large",onSubmit:this.handleSubmit},r.a.createElement(f.a,{stacked:!0},r.a.createElement($.a.Input,{fluid:!0,name:"email",value:t,icon:"envelope",iconPosition:"left",placeholder:"Email",type:"email",onChange:this.handleChange}),r.a.createElement($.a.Input,{fluid:!0,value:a,name:"password",icon:"key",iconPosition:"left",placeholder:"Password",type:"password",onChange:this.handleChange}),r.a.createElement(y.a,{disabled:n,className:n?"loading":"",color:"violet",fluid:!0,size:"large"},"Submit"))),r.a.createElement(se.a,null,"New User? ",r.a.createElement(h.b,{to:"/register"},"Register Here"))))}}]),a}(r.a.Component),ce=a(256),oe=a.n(ce),ie=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={username:"",email:"",password:"",passwordConfirmation:"",errors:[],loading:!1,usersRef:R.database().ref("users")},e.handleChange=function(t){e.setState(Object(b.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.setState({errors:[],loading:!0}),e.isFormValid()&&R.auth().createUserWithEmailAndPassword(e.state.email,e.state.password).then((function(t){t.user.updateProfile({displayName:e.state.username,photoURL:"http://gravatar.com/avatar/".concat(oe()(t.user.email),"?d=identicon")}).then((function(){e.saveUser(t).then((function(){console.log("user saved"),e.setState({loading:!1})}))})).catch((function(e){return console.log(e)}))})).catch((function(t){e.setState({errors:e.state.errors.concat(t),loading:!1}),console.log(t)}))},e.saveUser=function(t){return e.state.usersRef.child(t.user.uid).set({name:t.user.displayName,avatar:t.user.photoURL})},e.isFormValid=function(){if(e.isFormEmpty(e.state))e.setState({errors:e.state.errors.concat({message:"Please fillout all fields"})});else if(e.isPasswordValid(e.state.password,e.state.passwordConfirmation))return!0},e.isFormEmpty=function(e){var t=e.email,a=e.username,n=e.password,r=e.passwordConfirmation;return!n.length||!r.length||!a.length||!t.length},e.isPasswordValid=function(t,a){return t.length<6?(e.setState({errors:e.state.errors.concat({message:"Password must be 6 characters long"})}),!1):t===a||(e.setState({errors:e.state.errors.concat({message:"Passwords donot match"})}),!1)},e.showErrors=function(){return e.state.errors.map((function(e,t){return r.a.createElement("p",{key:t},e.message)}))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.password,s=e.passwordConfirmation,l=e.loading;return r.a.createElement(d.a,{textAlign:"center",verticalAlign:"middle",className:"app"},r.a.createElement(d.a.Column,{style:{maxWidth:"450px"}},r.a.createElement(E.a,{as:"h4",icon:!0,color:"blue",textAlign:"center"},r.a.createElement(v.a,{name:"comment outline",color:"blue"}," ",r.a.createElement("br",null),"Register for Klack")),this.state.errors.length>0&&r.a.createElement(se.a,{color:"red"},r.a.createElement("h4",null,"Errors"),this.showErrors()),r.a.createElement($.a,{size:"large",onSubmit:this.handleSubmit},r.a.createElement(f.a,{stacked:!0},r.a.createElement($.a.Input,{fluid:!0,name:"username",value:t,icon:"user",iconPosition:"left",placeholder:"Username",type:"text",onChange:this.handleChange}),r.a.createElement($.a.Input,{fluid:!0,name:"email",value:a,icon:"envelope",iconPosition:"left",placeholder:"Email",type:"text",onChange:this.handleChange}),r.a.createElement($.a.Input,{fluid:!0,value:n,name:"password",icon:"key",iconPosition:"left",placeholder:"Password",type:"password",onChange:this.handleChange}),r.a.createElement($.a.Input,{fluid:!0,value:s,name:"passwordConfirmation",icon:"repeat",iconPosition:"left",placeholder:"Password",type:"password",onChange:this.handleChange}),r.a.createElement(y.a,{disabled:l,className:l?"loading":"",color:"blue",fluid:!0,size:"large"},"Submit"))),r.a.createElement(se.a,null,"Already A User ? ",r.a.createElement(h.b,{to:"/login"},"Login Here"))))}}]),a}(r.a.Component),ue=(a(453),a(64)),me=a(257),he={currentUser:null,isLoading:!0},de={currentChannel:null},pe=Object(ue.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return{currentUser:t.payload.currentUser,isLoading:!1};case"CLEAR_USER":return Object(p.a)({},he,{isLoading:!1});default:return e}},channel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CHANNEL":return Object(p.a)({},e,{currentChannel:t.payload.currentChannel});default:return e}}}),fe=a(477),ge=a(468);function be(){return r.a.createElement(fe.a,{active:!0},r.a.createElement(ge.a,{size:"huge",content:"Preparing Chat..."}))}var Ee=Object(ue.createStore)(pe,Object(me.composeWithDevTools)()),ve=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;R.auth().onAuthStateChanged((function(t){t?(e.props.setUser(t),e.props.history.push("/")):(e.props.clearUser(),e.props.history.push("/login"))}))}},{key:"render",value:function(){return this.props.isLoading?r.a.createElement(be,null):r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/",exact:!0,component:re}),r.a.createElement(m.a,{path:"/login",exact:!0,component:le}),r.a.createElement(m.a,{path:"/register",exact:!0,component:ie}))}}]),a}(r.a.Component),Ce=Object(m.f)(Object(O.b)((function(e){return{isLoading:e.user.isLoading}}),{setUser:function(e){return{type:"SET_USER",payload:{currentUser:e}}},clearUser:function(){return{type:"CLEAR_USER"}}})(ve)),ye=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(O.a,{store:Ee},r.a.createElement(h.a,null,r.a.createElement(Ce,null)))}}]),a}(r.a.Component);l.a.render(r.a.createElement(ye,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[270,1,2]]]);
//# sourceMappingURL=main.daaec695.chunk.js.map